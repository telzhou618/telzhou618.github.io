<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
  <channel>
    <title>mysql - 标签 - 扁舟的博客</title>
    <link>https://telzhou618.github.io/tags/mysql/</link>
    <description>mysql - 标签 | 扁舟的博客</description>
    <generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>telzhou618@qq.com (telzhou618)</managingEditor>
      <webMaster>telzhou618@qq.com (telzhou618)</webMaster><lastBuildDate>Mon, 28 Aug 2023 11:44:07 &#43;0800</lastBuildDate><atom:link href="https://telzhou618.github.io/tags/mysql/" rel="self" type="application/rss+xml" /><item>
  <title>MySQL 优化及索引设计规范</title>
  <link>https://telzhou618.github.io/posts/mysql-review/</link>
  <pubDate>Mon, 28 Aug 2023 11:44:07 &#43;0800</pubDate>
  <author>telzhou618</author>
  <guid>https://telzhou618.github.io/posts/mysql-review/</guid>
  <description><![CDATA[<p>索引是帮助MySQL高效获取数据的排好序的数据结构。</p>
<h2 id="几个mysql命令" class="heading-element">
  <a href="#%e5%87%a0%e4%b8%aamysql%e5%91%bd%e4%bb%a4" class="heading-mark"></a>几个MySQL命令</h2><div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">mysql.server start // 启动MySQL
</span></span><span class="line"><span class="cl">mysql.server stop  // 停止MYSQL
</span></span><span class="line"><span class="cl">./mysqld_safe --data<span class="o">=</span>../data // 从data备份中恢复数据
</span></span><span class="line"><span class="cl">./mysql_secure_installation // 修改管理员密码</span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
<item>
  <title>MYSQL 表空间分析</title>
  <link>https://telzhou618.github.io/posts/mysql_information_schema/</link>
  <pubDate>Mon, 10 Jul 2023 21:36:57 &#43;0800</pubDate>
  <author>telzhou618</author>
  <guid>https://telzhou618.github.io/posts/mysql_information_schema/</guid>
  <description><![CDATA[<h2 id="删除数据并释放空间命令" class="heading-element">
  <a href="#%e5%88%a0%e9%99%a4%e6%95%b0%e6%8d%ae%e5%b9%b6%e9%87%8a%e6%94%be%e7%a9%ba%e9%97%b4%e5%91%bd%e4%bb%a4" class="heading-mark"></a>删除数据并释放空间命令</h2><ol>
<li>立刻释放磁盘空间 ，不管是 Innodb和MyISAM</li>
</ol>
<div class="highlight" id="id-1"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">drop</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>立刻释放磁盘空间 ，不管是 Innodb和MyISAM</li>
</ol>
<div class="highlight" id="id-2"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">truncate</span><span class="w"> </span><span class="k">table</span><span class="w"> </span><span class="k">table_name</span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="3">
<li>删除表的全部数据，对于MyISAM 会立刻释放磁盘空间 ，而InnoDB 不会释放磁盘空间</li>
</ol>
<div class="highlight" id="id-3"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span></span></span></code></pre></td></tr></table>
</div>
</div><ol start="4">
<li>带条件的删除, 不管是innodb还是MyISAM都不会释放磁盘空间；delete操作后使用optimize table table_name 释放磁盘空间，优化表期间会锁定表，所以要在空闲时段执行optimize table</li>
</ol>
<div class="highlight" id="id-4"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">delete</span><span class="w"> </span><span class="k">from</span><span class="w"> </span><span class="k">table_name</span><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">xx</span><span class="w"> </span></span></span></code></pre></td></tr></table>
</div>
</div>]]></description>
</item>
</channel>
</rss>
